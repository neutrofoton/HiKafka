# Many Kafka Cluster

We may have more than one Kafka cluster. Each cluster can sync data one another. Let's imagine we have a Kafka cluster on US, and the other one on Asia. The producer on US will send message to Kafka cluster on US. Then messages are synchonized to Asia. Consumers on Asia can read the data send by US producers. Since the messages also available on Asia.

<image src="images/many-kafka-cluster.png"/>  

# Running Kafka Server

When start kafka, we need to keep zookeeper running
```bash
# starting kafka serer
bin/kafka-server-start.sh config/server.properties

```

``` text
# output:
....
....
INFO starting (kafka.server.KafkaServer)
INFO Connecting to zookeeper on localhost:2181 (kafka.server.KafkaServer)
INFO [ZooKeeperClient Kafka server] Initializing a new session to localhost:2181. (kafka.zookeeper.ZooKeeperClient)
....
....
INFO Opening socket connection to server localhost/127.0.0.1:2181. (org.apache.zookeeper.ClientCnxn)
INFO Socket connection established, initiating session, client: /127.0.0.1:41022, server: localhost/127.0.0.1:2181 (org.apache.zookeeper.ClientCnxn)
INFO Session establishment complete on server localhost/127.0.0.1:2181, session id = 0x100002a59dc0000, negotiated timeout = 18000 (org.apache.zookeeper.ClientCnxn)
INFO [ZooKeeperClient Kafka server] Connected. (kafka.zookeeper.ZooKeeperClient)
....
....
INFO KafkaConfig values: 
....

listeners = PLAINTEXT://:9092
....
....
INFO [ThrottledChannelReaper-ControllerMutation]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)
INFO Log directory /tmp/kafka-logs not found, creating it. (kafka.log.LogManager)
INFO Loading logs from log dirs ArraySeq(/tmp/kafka-logs) (kafka.log.LogManager)
INFO No logs found to be loaded in /tmp/kafka-logs (kafka.log.LogManager)
...
...
INFO [MetadataCache brokerId=0] Updated cache from existing None to latest Features(version=3.6-IV2, finalizedFeatures={}, finalizedFeaturesEpoch=0). (kafka.server.metadata.ZkMetadataCache)
INFO [TxnMarkerSenderThread-0]: Starting (kafka.coordinator.transaction.TransactionMarkerChannelManager)
...
...
INFO [KafkaServer id=0] started (kafka.server.KafkaServer)
....
....
```

The kafka server configuration located on <code>config/server.properties</code>.
```bash
...
...
# The id of the broker. This must be set to a unique integer for each broker.
broker.id=0
....
...
# A comma separated list of directories under which to store log files
log.dirs=/tmp/kafka-logs # location where kafka store messages.
...
...
zookeeper.connect=localhost:2181
```